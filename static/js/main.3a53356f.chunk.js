(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{15:function(e,t,c){},16:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),r=c(9),a=c.n(r),i=(c(15),c(16),c(7)),o=c(2),u=c(1);function l(){var e=Object(s.useRef)();return Object(u.jsxs)("nav",{className:"navbar",ref:e,children:[Object(u.jsx)("h1",{className:"title",children:"The Shopping Cart Shop"}),Object(u.jsxs)("ul",{className:"nav-links",children:[Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("li",{onClick:function(){return e.current.classList.remove("shop-page")},children:"Home"})}),Object(u.jsx)(i.b,{to:"/shop",children:Object(u.jsx)("li",{onClick:function(){return e.current.classList.add("shop-page")},children:"Shop"})})]})]})}function j(){return Object(u.jsxs)("main",{className:"home-page",children:[Object(u.jsx)("h2",{className:"page-heading",children:"Shop here for all your shopping cart needs"}),Object(u.jsx)("p",{children:"Select from your favorite brands or try out something different from our collection."})]})}var d=c(10),m=c(4),b=c.p+"static/media/cart-icon.18143faf.svg";function p(e){var t=e.cartItemCount,c=e.products,n=e.onQtyChange,r=Object(s.useRef)(),a=Object(s.useRef)(),i=Object(s.useRef)({}),o=Object(s.useState)(t),l=Object(m.a)(o,2),j=l[0],d=l[1];Object(s.useEffect)((function(){d(t)}),[t]);var p=JSON.parse(sessionStorage.getItem("cart"))||c,h=p.map((function(e,t){var c=parseInt(sessionStorage.getItem("".concat(e.name)));return Object(u.jsxs)("div",{className:"cart-item",children:[e.name,Object(u.jsx)("img",{src:e.src,alt:e.name}),Object(u.jsxs)("div",{className:"quantity-field",children:[Object(u.jsx)("button",{onClick:function(s){if(i.current[t].value>0&&(n(j-1),sessionStorage.setItem("count",j-1),sessionStorage.setItem("".concat(e.name),c-1)),c-1===0){sessionStorage.removeItem("".concat(e.name));var r=p.filter((function(t){return t.name!==e.name}));sessionStorage.setItem("cart",JSON.stringify(r))}i.current[t].stepDown()},children:"\u2212"}),Object(u.jsx)("input",{type:"number",min:"0",defaultValue:sessionStorage.getItem("".concat(e.name))||1,ref:function(e){return i.current[t]=e},onChange:function(){if(sessionStorage.setItem("".concat(e.name),i.current[t].value),0===parseInt(i.current[t].value)){sessionStorage.removeItem("".concat(e.name));var c=p.filter((function(t){return t.name!==e.name}));sessionStorage.setItem("cart",JSON.stringify(c))}var s=Object.keys(i.current).reduce((function(e,t){return i.current[t]?e+parseInt(i.current[t].value):e}),0);sessionStorage.setItem("count",parseInt(s)),n(s)}}),Object(u.jsx)("button",{onClick:function(s){i.current[t].stepUp(),n(j+1),sessionStorage.setItem("count",j+1),sessionStorage.setItem("".concat(e.name),c+1)},children:"+"})]})]},e.id)})),O=function(){a.current.classList.remove("active"),r.current.classList.remove("open")};return Object(u.jsxs)("div",{className:"cart-container",children:[Object(u.jsx)("div",{className:"overlay",ref:a,onClick:O}),Object(u.jsxs)("div",{className:"cart-icon",onClick:function(){a.current.classList.add("active"),r.current.classList.add("open")},children:[j?Object(u.jsx)("span",{children:parseInt(j)}):"",Object(u.jsx)("img",{src:b,alt:"Shopping cart icon"})]}),Object(u.jsxs)("div",{className:"cart",ref:r,children:[Object(u.jsx)("span",{className:"btn-close-cart",onClick:O,children:"\u2716"}),Object(u.jsx)("h2",{className:"cart-heading",children:"Your Cart ".concat(j?"":"is empty")}),Object(u.jsx)("div",{className:"cart-items",children:h}),Object(u.jsxs)("div",{className:"checkout",children:[Object(u.jsx)("div",{className:"total",children:j?"Total:\n            $".concat(p.reduce((function(e,t,c){if(i.current[c]){var s=i.current[c].value*t.price;return sessionStorage.setItem("total",e+s),e+s}return e}),0)||parseInt(sessionStorage.getItem("total"))):""}),j?Object(u.jsx)("button",{className:"btn-check-out",children:"Check Out"}):""]})]})]})}function h(e){var t=e.product,c=e.onClick;return Object(u.jsxs)("div",{className:"product-card",children:[Object(u.jsx)("h2",{className:"product",children:t.name}),Object(u.jsx)("div",{className:"image",children:Object(u.jsx)("img",{src:t.src,alt:t.name})}),Object(u.jsxs)("div",{className:"price",children:["$",t.price]}),Object(u.jsx)("button",{className:"btn-add-to-cart",onClick:function(){return c(t)},children:"Add to Cart"})]})}var O=[{id:1,name:"Seven Wheeler",src:c.p+"static/media/cart1.d880c54c.webp",price:50},{id:2,name:"Baskets on Wheels",src:c.p+"static/media/cart2.47e395c9.webp",price:35},{id:3,name:"Double Decker",src:c.p+"static/media/cart3.4a3f6114.jpg",price:75},{id:4,name:"Shop Stroller",src:c.p+"static/media/cart4.8b11a74e.jpg",price:99},{id:5,name:"Red Cart",src:c.p+"static/media/cart5.9e1ab9e5.jpg",price:999},{id:6,name:"Mesh Monster",src:c.p+"static/media/cart6.9d515d70.webp",price:95}];function f(){var e=parseInt(sessionStorage.getItem("count")),t=JSON.parse(sessionStorage.getItem("cart"))||[],c=Object(s.useState)(e||0),n=Object(m.a)(c,2),r=n[0],a=n[1],i=Object(s.useState)([]),o=Object(m.a)(i,2),l=o[0],j=o[1];Object(s.useEffect)((function(){window.onload=function(){document.querySelector(".navbar").classList.add("shop-page")}}),[]);var b=function(e){j(t),l.some((function(t){return t.id===e.id}))||(j((function(t){var c=[].concat(Object(d.a)(t),[e]);return sessionStorage.setItem("cart",JSON.stringify(c)),sessionStorage.setItem("".concat(e.name),1),c})),a(r+1),sessionStorage.setItem("count",r+1))},f=O.map((function(e,t){return Object(u.jsx)(h,{product:e,onClick:b},e.id)}));return Object(u.jsxs)("main",{className:"catalog",children:[Object(u.jsx)(p,{cartItemCount:r,products:l,onQtyChange:function(e){return a(e)}}),Object(u.jsx)("div",{className:"product-list",children:f})]})}function g(){return Object(u.jsxs)(i.a,{children:[Object(u.jsx)(l,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/",element:Object(u.jsx)(j,{})}),Object(u.jsx)(o.a,{path:"/shop",element:Object(u.jsx)(f,{})})]})]})}var v=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(g,{})})};a.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.3a53356f.chunk.js.map